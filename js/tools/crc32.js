function calculateCRC32(){const e=document.getElementById('crc32-input').value;const t=document.getElementById('crc32-uppercase').checked;if(!e.trim()){document.getElementById('crc32-output').innerHTML='<span style="color:rgba(255,255,255,0.5);">Please enter text</span>';return;}let o=0xFFFFFFFF;for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);o=o^(n<<24);for(let e=0;e<8;e++){o=o&0x80000000?(o<<1)^0x04C11DB7:o<<1;}}o=(o^0xFFFFFFFF)>>>0;let n=o.toString(16).padStart(8,'0');if(t)n=n.toUpperCase();document.getElementById('crc32-output').innerHTML=`<div style="font-family:monospace;font-size:1.3rem;color:var(--lb);">${n}</div>`;document.getElementById('crc32-checksum').textContent=n;document.getElementById('crc32-size').textContent=`${e.length} bytes`;}function handleCRC32File(){const e=document.getElementById('crc32-file');const t=e.files[0];if(!t)return;const o=new FileReader();o.onload=function(e){document.getElementById('crc32-input').value='[Binary file: '+t.name+']';const n=document.getElementById('crc32-uppercase').checked;let r=0xFFFFFFFF;const a=new Uint8Array(e.target.result);for(let e=0;e<a.length;e++){r=r^(a[e]<<24);for(let e=0;e<8;e++){r=r&0x80000000?(r<<1)^0x04C11DB7:r<<1;}}r=(r^0xFFFFFFFF)>>>0;let i=r.toString(16).padStart(8,'0');if(n)i=i.toUpperCase();document.getElementById('crc32-output').innerHTML=`<div style="font-family:monospace;font-size:1.3rem;color:var(--lb);">${i}</div><div style="margin-top:10px;color:var(--lb);">File: ${t.name} (${t.size} bytes)</div>`;document.getElementById('crc32-checksum').textContent=i;document.getElementById('crc32-size').textContent=`${t.size} bytes`;};o.readAsArrayBuffer(t);}function copyCRC32(){const e=document.getElementById('crc32-output').textContent;if(e&&!e.includes('Checksum will appear')){copyToClipboard(e,document.querySelector('#crc32-output + .copy-btn'));}}function clearCRC32(){document.getElementById('crc32-input').value='';document.getElementById('crc32-output').innerHTML='<span style="color:rgba(255,255,255,0.5);">Checksum will appear here...</span>';document.getElementById('crc32-checksum').textContent='00000000';document.getElementById('crc32-size').textContent='0 bytes';}