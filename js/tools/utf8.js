function validateUTF8(){const e=document.getElementById('utf8-input').value;const t=document.getElementById('utf8-input-type').value;const o=document.getElementById('utf8-strict').checked;let n=!1;let r=[];let a=0;try{if(t==='hex'){const t=e.replace(/\s+/g,'');if(t.length%2!==0)throw new Error('Invalid hex length');for(let e=0;e<t.length;e+=2){r.push(parseInt(t.substr(e,2),16));}}else{const t=new TextEncoder();r=Array.from(t.encode(e));a=e.length;}n=function(e,t){let o=0;while(o<e.length){const r=e[o];if(r<=0x7F){o+=1;}else if(r>=0xC2&&r<=0xDF){if(o+1>=e.length)return!1;const t=e[o+1];if(t<0x80||t>0xBF)return!1;o+=2;}else if(r===0xE0){if(o+2>=e.length)return!1;const t=e[o+1];const n=e[o+2];if(t<0xA0||t>0xBF||n<0x80||n>0xBF)return!1;o+=3;}else if(r>=0xE1&&r<=0xEC){if(o+2>=e.length)return!1;const t=e[o+1];const n=e[o+2];if(t<0x80||t>0xBF||n<0x80||n>0xBF)return!1;o+=3;}else if(r===0xED){if(o+2>=e.length)return!1;const t=e[o+1];const n=e[o+2];if(t<0x80||t>0x9F||n<0x80||n>0xBF)return!1;o+=3;}else if(r>=0xEE&&r<=0xEF){if(o+2>=e.length)return!1;const t=e[o+1];const n=e[o+2];if(t<0x80||t>0xBF||n<0x80||n>0xBF)return!1;o+=3;}else if(r===0xF0){if(o+3>=e.length)return!1;const t=e[o+1];const n=e[o+2];const a=e[o+3];if(t<0x90||t>0xBF||n<0x80||n>0xBF||a<0x80||a>0xBF)return!1;o+=4;}else if(r>=0xF1&&r<=0xF3){if(o+3>=e.length)return!1;const t=e[o+1];const n=e[o+2];const a=e[o+3];if(t<0x80||t>0xBF||n<0x80||n>0xBF||a<0x80||a>0xBF)return!1;o+=4;}else if(r===0xF4){if(o+3>=e.length)return!1;const t=e[o+1];const n=e[o+2];const a=e[o+3];if(t<0x80||t>0x8F||n<0x80||n>0xBF||a<0x80||a>0xBF)return!1;o+=4;}else{return!1;}}return!0;}(r,o);}catch(e){n=!1;}const i=document.getElementById('utf8-output');const c=document.getElementById('utf8-validity');if(n){i.innerHTML=`<div style="color:var(--success);"><i class="fas fa-check-circle"></i> Valid UTF-8 sequence</div><div style="margin-top:10px;color:rgba(255,255,255,0.7);">${r.length} bytes, ${a||'unknown'} characters</div>`;c.textContent='Valid';c.className='status-badge valid';}else{i.innerHTML=`<div style="color:var(--danger);"><i class="fas fa-times-circle"></i> Invalid UTF-8 sequence</div><div style="margin-top:10px;color:rgba(255,255,255,0.7);">Check for encoding issues</div>`;c.textContent='Invalid';c.className='status-badge invalid';}document.getElementById('utf8-byte-count').textContent=`${r.length} bytes`;document.getElementById('utf8-char-count').textContent=`${a||'?'} chars`;}function clearUTF8(){document.getElementById('utf8-input').value='';document.getElementById('utf8-output').innerHTML='<span style="color:rgba(255,255,255,0.5);">Validation results will appear here...</span>';document.getElementById('utf8-validity').textContent='--';document.getElementById('utf8-validity').className='status-badge';document.getElementById('utf8-byte-count').textContent='0 bytes';document.getElementById('utf8-char-count').textContent='0 characters';}function testUnicode(){document.getElementById('utf8-input').value='Hello ‰∏ñÁïå üåç Emoji üëç';validateUTF8();}