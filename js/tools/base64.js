function processBase64(){const e=document.getElementById('base64-input').value;const t=document.getElementById('base64-operation').value;const o=document.getElementById('base64-url-safe').checked;let n='';try{if(t==='encode'){n=btoa(e);if(o){n=n.replace(/\+/g,'-').replace(/\//g,'_').replace(/=+$/g,'');}}else{if(o){let t=e.replace(/-/g,'+').replace(/_/g,'/');while(t.length%4){t+='=';}n=atob(t);}else{n=atob(e);}}document.getElementById('base64-output').value=n;document.getElementById('base64-input-size').textContent=`${e.length} bytes`;document.getElementById('base64-output-size').textContent=`${n.length} bytes`;const r=(e.length/n.length).toFixed(2);document.getElementById('base64-ratio').textContent=`${r}:1`;}catch(e){document.getElementById('base64-output').value='Error: '+e.message;}}function copyBase64(){const e=document.getElementById('base64-output');if(e.value){copyToClipboard(e.value,document.querySelector('#base64-output + .copy-btn'));}}function clearBase64(){document.getElementById('base64-input').value='';document.getElementById('base64-output').value='';document.getElementById('base64-input-size').textContent='0 bytes';document.getElementById('base64-output-size').textContent='0 bytes';document.getElementById('base64-ratio').textContent='1:1';}function uploadFile(){const e=document.createElement('input');e.type='file';e.onchange=function(t){const o=t.target.files[0];const n=new FileReader();n.onload=function(t){document.getElementById('base64-input').value=t.target.result;processBase64();};n.readAsDataURL(o);};e.click();}